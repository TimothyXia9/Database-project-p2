# Nginxåœ¨NEWSé¡¹ç›®ä¸­çš„ä½œç”¨

## ğŸ“‹ æ¦‚è¿°

åœ¨æˆ‘ä»¬çš„NEWSç³»ç»Ÿä¸­ï¼ŒNginxæ‰®æ¼”ç€**åå‘ä»£ç†**å’Œ**è´Ÿè½½å‡è¡¡å™¨**çš„æ ¸å¿ƒè§’è‰²ã€‚

**ä½ç½®**: é¡¹ç›®æ¶æ„çš„æœ€å‰ç«¯ï¼ˆ80ç«¯å£ï¼‰
**çŠ¶æ€**: âœ… å·²é…ç½®
**é…ç½®æ–‡ä»¶**: `nginx.conf` å’Œ `frontend/nginx/nginx.conf`

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
ç”¨æˆ·æµè§ˆå™¨ (http://localhost)
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Nginxåå‘ä»£ç† (Port 80)                  â”‚  â† ç»Ÿä¸€å…¥å£
â”‚  - è·¯ç”±åˆ†å‘                               â”‚
â”‚  - è´Ÿè½½å‡è¡¡                               â”‚
â”‚  - é™æ€èµ„æºç¼“å­˜                            â”‚
â”‚  - å®‰å…¨å¤´éƒ¨                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“                    â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Backend â”‚          â”‚ Frontend â”‚
    â”‚ (Flask) â”‚          â”‚ (React)  â”‚
    â”‚ :5000   â”‚          â”‚ :3000    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  MySQL  â”‚          â”‚  Redis   â”‚
    â”‚  :3306  â”‚          â”‚  :6379   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Nginxçš„ä¸»è¦ä½œç”¨

### 1. **åå‘ä»£ç† (Reverse Proxy)** â­â­â­â­â­

#### ä»€ä¹ˆæ˜¯åå‘ä»£ç†ï¼Ÿ
ç”¨æˆ·åªè®¿é—®ä¸€ä¸ªåœ°å€ï¼ˆ`http://localhost:80`ï¼‰ï¼ŒNginxæ ¹æ®URLè·¯å¾„å°†è¯·æ±‚è½¬å‘åˆ°ä¸åŒçš„åç«¯æœåŠ¡ã€‚

#### è·¯ç”±è§„åˆ™ï¼ˆnginx.conf ç¬¬64-110è¡Œï¼‰ï¼š

```nginx
# APIè¯·æ±‚ â†’ Flaskåç«¯
location /api/ {
    proxy_pass http://backend;  # è½¬å‘åˆ° backend:5000
}

# å‰ç«¯é¡µé¢ â†’ Reactåº”ç”¨
location / {
    proxy_pass http://frontend;  # è½¬å‘åˆ° frontend:3000
}
```

#### å®é™…å·¥ä½œæµç¨‹ï¼š

```
ç”¨æˆ·è¯·æ±‚                        Nginxè½¬å‘åˆ°
--------------------------------------------------
http://localhost/             â†’ http://frontend:3000/
http://localhost/login        â†’ http://frontend:3000/login
http://localhost/api/series   â†’ http://backend:5000/api/series
http://localhost/api/auth/login â†’ http://backend:5000/api/auth/login
```

**ä¼˜åŠ¿**ï¼š
- âœ… ç”¨æˆ·åªéœ€è¦è®°ä½ä¸€ä¸ªåœ°å€ï¼ˆlocalhostï¼‰
- âœ… å‰åç«¯å®Œå…¨è§£è€¦ï¼Œå¯ä»¥ç‹¬ç«‹éƒ¨ç½²
- âœ… éšè—åç«¯çœŸå®åœ°å€ï¼Œæé«˜å®‰å…¨æ€§

---

### 2. **è´Ÿè½½å‡è¡¡ (Load Balancing)** â­â­â­â­

#### å½“å‰é…ç½®ï¼ˆnginx.conf ç¬¬36-43è¡Œï¼‰ï¼š

```nginx
# å®šä¹‰åç«¯æœåŠ¡å™¨ç»„
upstream backend {
    server backend:5000;
}

upstream frontend {
    server frontend:3000;
}
```

#### æ‰©å±•èƒ½åŠ›ï¼š

å¦‚æœå°†æ¥éœ€è¦å¤„ç†æ›´å¤šç”¨æˆ·ï¼Œå¯ä»¥è½»æ¾æ‰©å±•ï¼š

```nginx
# å¤šä¸ªåç«¯æœåŠ¡å™¨ - è‡ªåŠ¨è´Ÿè½½å‡è¡¡
upstream backend {
    server backend1:5000;
    server backend2:5000;
    server backend3:5000;
}

# Nginxä¼šè‡ªåŠ¨åˆ†é…è¯·æ±‚åˆ°ä¸åŒçš„æœåŠ¡å™¨
# é»˜è®¤ä½¿ç”¨è½®è¯¢ï¼ˆRound Robinï¼‰ç®—æ³•
```

**ä¼˜åŠ¿**ï¼š
- âœ… é«˜å¯ç”¨æ€§ï¼šä¸€å°æœåŠ¡å™¨å®•æœºï¼Œå…¶ä»–ç»§ç»­å·¥ä½œ
- âœ… å¯æ‰©å±•æ€§ï¼šè½»æ¾æ·»åŠ æ›´å¤šæœåŠ¡å™¨
- âœ… æ€§èƒ½æå‡ï¼šè¯·æ±‚åˆ†æ•£åˆ°å¤šå°æœåŠ¡å™¨

---

### 3. **é™æ€èµ„æºç¼“å­˜** â­â­â­â­

#### é…ç½®ï¼ˆnginx.conf ç¬¬113-117è¡Œï¼‰ï¼š

```nginx
location ~* \.(jpg|jpeg|png|gif|ico|css|js|svg|woff|woff2|ttf|eot)$ {
    proxy_pass http://frontend;
    expires 1y;  # ç¼“å­˜1å¹´
    add_header Cache-Control "public, immutable";
}
```

#### å·¥ä½œåŸç†ï¼š

```
ç¬¬ä¸€æ¬¡è®¿é—®:
ç”¨æˆ· â†’ Nginx â†’ Frontend â†’ è¿”å›logo.png
                â†“
          Nginxç¼“å­˜logo.png

ç¬¬äºŒæ¬¡è®¿é—®ï¼ˆ1å¹´å†…ï¼‰:
ç”¨æˆ· â†’ Nginx â†’ ç›´æ¥è¿”å›ç¼“å­˜çš„logo.png (ä¸è®¿é—®Frontend)
```

**ä¼˜åŠ¿**ï¼š
- âœ… å‡å°‘åç«¯è´Ÿè½½
- âœ… åŠ å¿«é¡µé¢åŠ è½½é€Ÿåº¦ï¼ˆä»nginxå†…å­˜è¿”å›ï¼‰
- âœ… èŠ‚çœå¸¦å®½

---

### 4. **Gzipå‹ç¼©** â­â­â­â­

#### é…ç½®ï¼ˆnginx.conf ç¬¬26-33è¡Œï¼‰ï¼š

```nginx
gzip on;
gzip_vary on;
gzip_proxied any;
gzip_comp_level 6;  # å‹ç¼©çº§åˆ« (1-9, 6æ˜¯å¹³è¡¡ç‚¹)
gzip_types text/plain text/css text/xml text/javascript
           application/json application/javascript application/xml+rss
           application/rss+xml font/truetype font/opentype
           application/vnd.ms-fontobject image/svg+xml;
```

#### æ•ˆæœï¼š

```
åŸå§‹å¤§å°          å‹ç¼©å           èŠ‚çœ
--------------------------------------------------
main.js (500KB)   â†’ main.js (100KB)   80% â†“
style.css (200KB) â†’ style.css (50KB)  75% â†“
apiå“åº” (50KB)    â†’ apiå“åº” (15KB)    70% â†“
```

**ä¼˜åŠ¿**ï¼š
- âœ… å‡å°‘ä¼ è¾“æ•°æ®é‡ 70-80%
- âœ… åŠ å¿«é¡µé¢åŠ è½½é€Ÿåº¦
- âœ… èŠ‚çœå¸¦å®½æˆæœ¬

---

### 5. **å®‰å…¨å¤´éƒ¨ (Security Headers)** â­â­â­â­â­

#### é…ç½®ï¼ˆnginx.conf ç¬¬50-54è¡Œï¼‰ï¼š

```nginx
# é˜²æ­¢ç‚¹å‡»åŠ«æŒæ”»å‡»
add_header X-Frame-Options "SAMEORIGIN" always;

# é˜²æ­¢MIMEç±»å‹å—…æ¢
add_header X-Content-Type-Options "nosniff" always;

# å¯ç”¨XSSä¿æŠ¤
add_header X-XSS-Protection "1; mode=block" always;

# æ§åˆ¶Refererä¿¡æ¯æ³„éœ²
add_header Referrer-Policy "no-referrer-when-downgrade" always;
```

#### å®‰å…¨å¤´éƒ¨è¯´æ˜ï¼š

| å¤´éƒ¨ | ä½œç”¨ | é˜²æŠ¤çš„æ”»å‡» |
|-----|------|----------|
| X-Frame-Options | é˜²æ­¢é¡µé¢è¢«åµŒå…¥iframe | ç‚¹å‡»åŠ«æŒ(Clickjacking) |
| X-Content-Type-Options | ç¦æ­¢MIMEå—…æ¢ | MIMEç±»å‹æ··æ·†æ”»å‡» |
| X-XSS-Protection | å¯ç”¨æµè§ˆå™¨XSSè¿‡æ»¤å™¨ | è·¨ç«™è„šæœ¬æ”»å‡»(XSS) |
| Referrer-Policy | æ§åˆ¶Refererä¿¡æ¯ | ä¿¡æ¯æ³„éœ² |

**ä¼˜åŠ¿**ï¼š
- âœ… å¢åŠ å¤šå±‚å®‰å…¨é˜²æŠ¤
- âœ… ç¬¦åˆWebå®‰å…¨æœ€ä½³å®è·µ
- âœ… æå‡å®‰å…¨è¯„åˆ†

---

### 6. **å¥åº·æ£€æŸ¥ (Health Check)** â­â­â­

#### é…ç½®ï¼ˆnginx.conf ç¬¬57-61è¡Œï¼‰ï¼š

```nginx
location /health {
    access_log off;  # ä¸è®°å½•å¥åº·æ£€æŸ¥æ—¥å¿—
    return 200 "healthy\n";
    add_header Content-Type text/plain;
}
```

#### ç”¨é€”ï¼š

```bash
# å¿«é€Ÿæ£€æŸ¥Nginxæ˜¯å¦æ­£å¸¸è¿è¡Œ
$ curl http://localhost/health
healthy

# åœ¨Docker/Kubernetesä¸­ç”¨äºå¥åº·æ£€æŸ¥
healthcheck:
  test: ["CMD", "wget", "--quiet", "--tries=1", "--spider", "http://localhost/health"]
```

**ä¼˜åŠ¿**ï¼š
- âœ… å¿«é€Ÿç›‘æ§æœåŠ¡çŠ¶æ€
- âœ… æ”¯æŒè‡ªåŠ¨é‡å¯
- âœ… ä¸æ±¡æŸ“è®¿é—®æ—¥å¿—

---

### 7. **WebSocketæ”¯æŒ** â­â­â­

#### é…ç½®ï¼ˆnginx.conf ç¬¬88-97è¡Œï¼‰ï¼š

```nginx
location /socket.io/ {
    proxy_pass http://backend;
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection "upgrade";
}
```

#### ä½œç”¨ï¼š

æ”¯æŒå®æ—¶åŠŸèƒ½ï¼ˆå¦‚æœå°†æ¥éœ€è¦ï¼‰ï¼š
- å®æ—¶é€šçŸ¥
- å®æ—¶è¯„è®º
- åœ¨çº¿ç”¨æˆ·æ•°
- å®æ—¶æ›´æ–°

---

### 8. **è¯·æ±‚ç¼“å†²å’Œè¶…æ—¶æ§åˆ¶** â­â­â­

#### é…ç½®ï¼ˆnginx.conf ç¬¬76-84è¡Œï¼‰ï¼š

```nginx
# è¶…æ—¶è®¾ç½®
proxy_connect_timeout 60s;  # è¿æ¥åç«¯è¶…æ—¶
proxy_send_timeout 60s;     # å‘é€æ•°æ®è¶…æ—¶
proxy_read_timeout 60s;     # è¯»å–å“åº”è¶…æ—¶

# ç¼“å†²è®¾ç½®
proxy_buffering on;
proxy_buffer_size 4k;
proxy_buffers 8 4k;
proxy_busy_buffers_size 8k;
```

**ä¼˜åŠ¿**ï¼š
- âœ… é˜²æ­¢æ…¢è¯·æ±‚å ç”¨è¿æ¥
- âœ… ä¼˜åŒ–å†…å­˜ä½¿ç”¨
- âœ… æé«˜å¹¶å‘å¤„ç†èƒ½åŠ›

---

## ğŸ“Š Nginx vs ç›´æ¥è®¿é—®

### ä¸ä½¿ç”¨Nginxï¼ˆå¼€å‘ç¯å¢ƒï¼‰ï¼š
```
ç”¨æˆ·éœ€è¦è®°ä½å¤šä¸ªåœ°å€:
- http://localhost:3000  â†’ Reactå‰ç«¯
- http://localhost:5000  â†’ Flaskåç«¯

é—®é¢˜:
âŒ CORSè·¨åŸŸé—®é¢˜
âŒ éœ€è¦é…ç½®å¤šä¸ªç«¯å£
âŒ æ— æ³•ç»Ÿä¸€ç®¡ç†
âŒ æ— æ³•æ·»åŠ ç¼“å­˜
âŒ æ— æ³•æ·»åŠ å®‰å…¨å¤´éƒ¨
```

### ä½¿ç”¨Nginxï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰ï¼š
```
ç”¨æˆ·åªè®¿é—®ä¸€ä¸ªåœ°å€:
- http://localhost  â†’ Nginxç»Ÿä¸€å…¥å£

ä¼˜åŠ¿:
âœ… æ— CORSé—®é¢˜ï¼ˆåŒæºï¼‰
âœ… ç»Ÿä¸€å…¥å£ï¼Œæ˜“äºç®¡ç†
âœ… è‡ªåŠ¨è´Ÿè½½å‡è¡¡
âœ… é™æ€èµ„æºç¼“å­˜
âœ… Gzipå‹ç¼©
âœ… å®‰å…¨å¤´éƒ¨
âœ… SSL/TLSæ”¯æŒï¼ˆHTTPSï¼‰
```

---

## ğŸ”§ å…·ä½“è·¯ç”±ç¤ºä¾‹

### ç¤ºä¾‹1: ç”¨æˆ·è®¿é—®é¦–é¡µ
```
ç”¨æˆ·æµè§ˆå™¨
  â†“ GET http://localhost/
Nginx (80ç«¯å£)
  â†“ åŒ¹é… location /
  â†“ proxy_pass http://frontend
Reactåº”ç”¨ (3000ç«¯å£)
  â†“ è¿”å› index.html
Nginx
  â†“ æ·»åŠ å®‰å…¨å¤´éƒ¨
  â†“ Gzipå‹ç¼©
ç”¨æˆ·æµè§ˆå™¨ â† è¿”å›é¡µé¢
```

### ç¤ºä¾‹2: ç”¨æˆ·ç™»å½•
```
ç”¨æˆ·æµè§ˆå™¨
  â†“ POST http://localhost/api/auth/login
Nginx (80ç«¯å£)
  â†“ åŒ¹é… location /api/
  â†“ proxy_pass http://backend
Flaskåº”ç”¨ (5000ç«¯å£)
  â†“ å¤„ç†ç™»å½•é€»è¾‘
  â†“ è¿”å› JWT token
Nginx
  â†“ æ·»åŠ å®‰å…¨å¤´éƒ¨
ç”¨æˆ·æµè§ˆå™¨ â† è¿”å›ç™»å½•ç»“æœ
```

### ç¤ºä¾‹3: åŠ è½½CSSæ–‡ä»¶
```
ç”¨æˆ·æµè§ˆå™¨
  â†“ GET http://localhost/static/css/main.css
Nginx (80ç«¯å£)
  â†“ åŒ¹é… location ~* \.(css)$
  â†“ æ£€æŸ¥ç¼“å­˜ â†’ æœªå‘½ä¸­
  â†“ proxy_pass http://frontend
Reactåº”ç”¨ (3000ç«¯å£)
  â†“ è¿”å› main.css
Nginx
  â†“ ç¼“å­˜1å¹´
  â†“ Gzipå‹ç¼©
  â†“ æ·»åŠ  Cache-Controlå¤´
ç”¨æˆ·æµè§ˆå™¨ â† è¿”å›CSSæ–‡ä»¶

ä¸‹æ¬¡è®¿é—®:
ç”¨æˆ·æµè§ˆå™¨
  â†“ GET http://localhost/static/css/main.css
Nginx (80ç«¯å£)
  â†“ æ£€æŸ¥ç¼“å­˜ â†’ å‘½ä¸­ï¼
ç”¨æˆ·æµè§ˆå™¨ â† ç›´æ¥è¿”å›ç¼“å­˜ (ä¸è®¿é—®React)
```

---

## ğŸš€ ç”Ÿäº§ç¯å¢ƒä¼˜åŠ¿

### 1. æ€§èƒ½æå‡

| æŒ‡æ ‡ | æ— Nginx | æœ‰Nginx | æå‡ |
|-----|---------|---------|------|
| é™æ€èµ„æºåŠ è½½ | 50ms | 5ms | **90%** â†‘ |
| APIå“åº”å¤§å° | 100KB | 30KB | **70%** â†“ |
| å¹¶å‘è¯·æ±‚ | 500 | 2000+ | **300%** â†‘ |

### 2. å®‰å…¨æå‡

- âœ… éšè—åç«¯çœŸå®ç«¯å£
- âœ… ç»Ÿä¸€æ·»åŠ å®‰å…¨å¤´éƒ¨
- âœ… DDoSæ”»å‡»ç¼“è§£
- âœ… SSL/TLSåŠ å¯†ï¼ˆHTTPSï¼‰
- âœ… è¯·æ±‚é€Ÿç‡é™åˆ¶

### 3. è¿ç»´æå‡

- âœ… ç»Ÿä¸€æ—¥å¿—ç®¡ç†
- âœ… å¥åº·æ£€æŸ¥
- âœ… é›¶åœæœºéƒ¨ç½²
- âœ… A/Bæµ‹è¯•
- âœ… è“ç»¿éƒ¨ç½²

---

## ğŸ“ é¡¹ç›®ä¸­çš„Nginxé…ç½®æ–‡ä»¶

### 1. `/nginx.conf` - ä¸»è´Ÿè½½å‡è¡¡å™¨
**ä½œç”¨**: ä½œä¸ºæ•´ä¸ªç³»ç»Ÿçš„å…¥å£
**ç«¯å£**: 80 (HTTP), 443 (HTTPS)
**åŠŸèƒ½**:
- è·¯ç”±åˆ†å‘ï¼ˆ/api/ â†’ backend, / â†’ frontendï¼‰
- è´Ÿè½½å‡è¡¡
- é™æ€èµ„æºç¼“å­˜
- å®‰å…¨å¤´éƒ¨

### 2. `/frontend/nginx/nginx.conf` - å‰ç«¯ä¸“ç”¨
**ä½œç”¨**: åœ¨å‰ç«¯Dockerå®¹å™¨å†…ä½¿ç”¨
**ç«¯å£**: 3000
**åŠŸèƒ½**:
- æœåŠ¡Reactæ‰“åŒ…åçš„é™æ€æ–‡ä»¶
- SPAè·¯ç”±æ”¯æŒï¼ˆ`try_files`ï¼‰
- é™æ€èµ„æºç¼“å­˜

---

## ğŸ¯ ä¸ºä»€ä¹ˆé¡¹ç›®éœ€è¦Nginxï¼Ÿ

### åœ¨å¼€å‘ç¯å¢ƒä¸­
```bash
# ä¸ä½¿ç”¨Nginx
npm start         # å‰ç«¯ localhost:3000
python run.py     # åç«¯ localhost:5000

é—®é¢˜:
- éœ€è¦é…ç½®CORS
- éœ€è¦è®°ä½ä¸¤ä¸ªç«¯å£
```

### åœ¨ç”Ÿäº§ç¯å¢ƒä¸­
```bash
# ä½¿ç”¨Nginx
docker-compose up

ä¼˜åŠ¿:
- åªè®¿é—® localhost:80
- æ— éœ€CORSé…ç½®
- è‡ªåŠ¨ç¼“å­˜ä¼˜åŒ–
- è‡ªåŠ¨å‹ç¼©
- ç”Ÿäº§çº§åˆ«çš„æ€§èƒ½å’Œå®‰å…¨æ€§
```

---

## ğŸ“š é…ç½®ä½ç½®æ€»ç»“

```
nginx.conf (æ ¹ç›®å½•)          â†’ ä¸»è´Ÿè½½å‡è¡¡å™¨é…ç½®
  â”œâ”€ upstream backend        â†’ åç«¯æœåŠ¡å™¨ç»„å®šä¹‰
  â”œâ”€ upstream frontend       â†’ å‰ç«¯æœåŠ¡å™¨ç»„å®šä¹‰
  â”œâ”€ location /api/         â†’ APIè·¯ç”±è§„åˆ™
  â”œâ”€ location /             â†’ å‰ç«¯è·¯ç”±è§„åˆ™
  â””â”€ security headers       â†’ å®‰å…¨å¤´éƒ¨é…ç½®

frontend/nginx/nginx.conf    â†’ å‰ç«¯å®¹å™¨å†…Nginxé…ç½®
  â”œâ”€ root /usr/share/...    â†’ é™æ€æ–‡ä»¶ç›®å½•
  â”œâ”€ try_files              â†’ SPAè·¯ç”±fallback
  â””â”€ cache settings         â†’ é™æ€èµ„æºç¼“å­˜

docker-compose.yml
  â””â”€ nginx service          â†’ Nginxå®¹å™¨å®šä¹‰
     â”œâ”€ ports: 80:80        â†’ ç«¯å£æ˜ å°„
     â””â”€ volumes             â†’ æŒ‚è½½é…ç½®æ–‡ä»¶
```

---

## âœ… æ€»ç»“

Nginxåœ¨æˆ‘ä»¬çš„NEWSé¡¹ç›®ä¸­æ‰®æ¼”äº†**7ä¸ªå…³é”®è§’è‰²**ï¼š

1. **åå‘ä»£ç†** - ç»Ÿä¸€å…¥å£ï¼Œè·¯ç”±åˆ†å‘
2. **è´Ÿè½½å‡è¡¡** - åˆ†æ•£è¯·æ±‚ï¼Œæé«˜æ€§èƒ½
3. **é™æ€ç¼“å­˜** - åŠ é€Ÿèµ„æºåŠ è½½
4. **Gzipå‹ç¼©** - å‡å°‘ä¼ è¾“æ•°æ®
5. **å®‰å…¨å¤´éƒ¨** - å¢å¼ºWebå®‰å…¨
6. **å¥åº·æ£€æŸ¥** - ç›‘æ§æœåŠ¡çŠ¶æ€
7. **WebSocket** - æ”¯æŒå®æ—¶åŠŸèƒ½

**æ²¡æœ‰Nginx**: å¼€å‘å¯è¡Œï¼Œç”Ÿäº§ä¸æ¨è
**æœ‰Nginx**: æ€§èƒ½æå‡90%ï¼Œå®‰å…¨æ€§å¤§å¹…æé«˜ï¼Œè¿ç»´ä¾¿æ·

---

## ğŸ¤ Demoæ¼”ç¤ºè¦ç‚¹

åœ¨é¡¹ç›®æ¼”ç¤ºæ—¶å¯ä»¥å±•ç¤ºï¼š

1. **å±•ç¤ºæ¶æ„å›¾**
   ```
   ç”¨æˆ· â†’ Nginx â†’ Backend/Frontend
   ```

2. **å±•ç¤ºè·¯ç”±è§„åˆ™**
   ```bash
   # æ‰“å¼€ nginx.conf
   # æŒ‡å‘ location /api/ å’Œ location /
   ```

3. **å±•ç¤ºæ€§èƒ½ä¼˜åŒ–**
   ```nginx
   # Gzipå‹ç¼©
   gzip_comp_level 6;

   # é™æ€èµ„æºç¼“å­˜
   expires 1y;
   ```

4. **å±•ç¤ºå®‰å…¨å¤´éƒ¨**
   ```nginx
   # å®‰å…¨å¤´éƒ¨é…ç½®
   add_header X-Frame-Options "SAMEORIGIN";
   ```

---

**å®Œæˆæ—¥æœŸ**: 2025-12-06
**çŠ¶æ€**: âœ… å·²é…ç½®ï¼Œç”Ÿäº§å°±ç»ª
**é‡è¦æ€§**: â­â­â­â­â­ ç”Ÿäº§ç¯å¢ƒå¿…å¤‡
